<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
</head>

<body background="kruising.png">

<form>
    <h1>kruising3.html</h1>

    <input type="button" value="aanzetten" onclick="aanzetten()">
    <input type="button" value="knipperen" onclick="knipperen()">
    <input type="button" value="uitzetten" onclick="uitzetten()">
    <input type="button" value="start" onclick="starten()">
    <input type="button" value="stop" onclick="stop()">
    <input type="button" value="opnieuw" onclick="opnieuw()">

    <img id="auto" src="autogroen.png" width="40px" height="80px">
    <img id="auto2" src="autorood3.png" width="40px" height="80px">
    <img id="auto3" src="autorood2.png" width="80px" height="80px">
    <img id="auto4" src="autoblauw.png" width="80px" height="40px">
    <img id="stoplicht" src="stoplichtuit.png" width="20px" height="40px">
    <img id="stoplicht2" src="stoplichtuit2.png" width="20px" height="40px">
    <img id="stoplicht3" src="stoplichtuit3.png" width="40px" height="20px">
    <img id="stoplicht4" src="stoplichtuit4.png" width="40px" height="20px">


</form>

<script>

    var slir_lr = true;
    var slir_bb = false;

    var rijden;
    var werken;
    var buitenwerking;

    var auto = document.getElementById("auto");
    auto.style.position = "absolute";
    auto.style.left = "670px";
    auto.style.bottom = "20px";

    var auto2 = document.getElementById("auto2");
    auto2.style.position = "absolute";
    auto2.style.left = "539px";
    auto2.style.top = "20px";

    var auto3 = document.getElementById("auto3");
    auto3.style.position = "absolute";
    auto3.style.left = "20px";
    auto3.style.top = "440px";

    var auto4 = document.getElementById("auto4");
    auto4.style.position = "absolute";
    auto4.style.right = "700px";
    auto4.style.top = "366px";

    var stoplicht = document.getElementById("stoplicht");
    stoplicht.style.position = "absolute";
    stoplicht.style.left = "713px";
    stoplicht.style.bottom = "421px";

    var stoplicht2 = document.getElementById("stoplicht2");
    stoplicht2.style.position = "absolute";
    stoplicht2.style.left = "516px";
    stoplicht2.style.top = "325px";
    // stoplicht2.style.transform = "rotate(180)";

    var stoplicht3 = document.getElementById("stoplicht3");
    stoplicht3.style.position = "absolute";
    stoplicht3.style.left = "496px";
    stoplicht3.style.top = "503px";

    var stoplicht4 = document.getElementById("stoplicht4");
    stoplicht4.style.position = "absolute";
    stoplicht4.style.left = "713px";
    stoplicht4.style.top = "345px";

    function starten() {
        rijden = setTimeout(starten, 10);

        if (parseInt(auto.style.bottom) > 1000) {
            auto.style.bottom = '20px';
        }

        if (parseInt(auto2.style.top) > 1070) {
            auto2.style.top = '20px';
        }

        if (parseInt(auto3.style.left) > 1800) {
            auto3.style.left = "20px";
        }

        if (parseInt(auto4.style.right) > 1850) {
            auto4.style.right = "400px";
        }

        if (slir_lr === true && parseInt(auto.style.bottom) === 380) {
            snelheid = 0;
        }
        else {
            snelheid = 5;
        }


        if (slir_lr === true && parseInt(auto2.style.top) === 285) {
            snelheid2 = 0;
        }
        else {
            snelheid2 = 5;
        }

        if (slir_bb === true && parseInt(auto3.style.left) === 450) {
            snelheid3 = 0;
        }
        else {
            snelheid3 = 5;
        }

        if (slir_bb === true && parseInt(auto4.style.right) === 1130) {
            snelheid4 = 0;
        }
        else {
            snelheid4 = 5;
        }

        auto.style.bottom = parseInt(auto.style.bottom) + snelheid + 'px';
        auto2.style.top = parseInt(auto2.style.top) + snelheid2 + 'px';
        auto3.style.left = parseInt(auto3.style.left) + snelheid3 + 'px';
        auto4.style.right = parseInt(auto4.style.right) + snelheid4 + 'px';

    }

    function stop() {
        clearTimeout(rijden);
    }

    function opnieuw() {
        clearTimeout(rijden);
        auto.style.bottom = '20px';
        auto2.style.top = '20px';
        auto3.style.left = '20px';
        auto4.style.right = '400px';
    }

    function aanzetten() {
        clearTimeout(buitenwerking);
        maakRoodGroen();
        werken = setTimeout(maakRoodGeel, 4000);
        werken = setTimeout(maakRoodRood, 6000);
        werken = setTimeout(maakGroenRood, 8000);
        werken = setTimeout(maakGeelRood, 10000);
        werken = setTimeout(maakRoodRood, 15000);
        werken = setTimeout(aanzetten, 17000);
    }

    function knipperen() {
        clearTimeout(werken);
        maakGeel();
        buitenwerking = setTimeout(zetUit, 500);
        buitenwerking = setTimeout(knipperen, 1000);
    }

    function uitzetten() {
        zetUit();
        clearTimeout(buitenwerking);
        clearTimeout(werken);
    }

    function maakRoodGroen() {
        stoplicht.src = "stoplichtrood.png";
        stoplicht2.src = "stoplichtrood2.png";
        stoplicht3.src = "stoplichtgroen3.png";
        stoplicht4.src = "stoplichtgroen4.png";
        slir_lr = true;
        slir_bb = false;
    }

    function maakRoodGeel() {
        stoplicht.src = "stoplichtrood.png";
        stoplicht2.src = "stoplichtrood2.png";
        stoplicht3.src = "stoplichtgeel3.png";
        stoplicht4.src = "stoplichtgeel4.png";
        slir_lr = true;
        slir_bb = false;
    }

    function maakGroenRood() {
        stoplicht.src = "stoplichtgroen.png";
        stoplicht2.src = "stoplichtgroen2.png";
        stoplicht3.src = "stoplichtrood3.png";
        stoplicht4.src = "stoplichtrood4.png";
        slir_lr = false;
        slir_bb = true;
    }

    function maakGeelRood() {
        stoplicht.src = "stoplichtgeel.png";
        stoplicht2.src = "stoplichtgeel2.png";
        stoplicht3.src = "stoplichtrood3.png";
        stoplicht4.src = "stoplichtrood4.png";
        slir_lr = false;
        slir_bb = true;
    }

    function maakRoodRood() {
        stoplicht.src  = "stoplichtrood.png";
        stoplicht2.src = "stoplichtrood2.png";
        stoplicht3.src = "stoplichtrood3.png";
        stoplicht4.src = "stoplichtrood4.png";
        slir_lr = true;
        slir_bb = true;
    }

    function zetUit() {
        stoplicht.src = "stoplichtuit.png";
        stoplicht2.src = "stoplichtuit2.png";
        stoplicht3.src = "stoplichtuit3.png";
        stoplicht4.src = "stoplichtuit4.png";
    }

    function maakGeel() {
        stoplicht.src = "stoplichtgeel.png";
        stoplicht2.src = "stoplichtgeel2.png";
        stoplicht3.src = "stoplichtgeel3.png";
        stoplicht4.src = "stoplichtgeel4.png";
    }

</script>
</body>
</html>